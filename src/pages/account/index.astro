---
import Layout from '@/components/layout/Layout.astro';
import InputField from '@/components/shared/Forms/InputField.astro';
import Button from '@/components/shared/Forms/Button.astro';
import SectionTitle from '@/components/shared/Typography/SectionTitle.astro';

const user = Astro.locals.user;
---

<Layout title="Account">
	<div class="container flex flex-col space-y-4 py-4">
		<section>
			<SectionTitle class="mb-2">My account</SectionTitle>
			<p>Name: {user?.name}</p>
			<p>Username: {user?.username}</p>
		</section>
		<section>
			<SectionTitle>My torrents</SectionTitle>
			<div>...</div>
		</section>
		<section>
			<form
				action="/api/account/create"
				method="post"
				class="flex flex-col items-start space-y-3 py-4"
				autocomplete="on"
			>
				<SectionTitle>Create new account</SectionTitle>
				<InputField
					type="text"
					label="Name"
					name="name"
					autocomplete="nickname"
					minlength={3}
					maxlength={100}
					required
				/>
				<InputField
					type="text"
					label="Username"
					name="username"
					autocomplete="username"
					minlength={3}
					maxlength={20}
					required
				/>
				<InputField
					type="password"
					label="Password"
					name="password"
					autocomplete="new-password"
					minlength={8}
					maxlength={100}
					required
				/>
				<Button type="submit">Create</Button>
			</form>
		</section>
	</div>
</Layout>
